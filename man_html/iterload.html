<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: The iterload() helper function to easily read in .rds files</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for iterload"><tr><td>iterload</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>The iterload() helper function to easily read in .rds files</h2>

<h3>Description</h3>

<p>The .rds files are expected to be output from from <code>itersave</code>
This is essentially using lapply(list.files(dir_rds),FUN=readRDS)
</p>


<h3>Usage</h3>

<pre>
iterload(dir_rds)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>dir_rds</code></td>
<td>
<p>character for path of directory containing .rds files</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list storing read in results
</p>


<h3>See Also</h3>

<p><code>itersave</code> to see how the .rds files were written
</p>


<h3>Examples</h3>

<pre>

foo_func_spec = function(x){return(log(x))}
mainDir = '~/projects/datzen/tests/proto/temp/'
subDir = '/dump_1/'
subSubDir = '/failed/'

########################
# error control
########################

arg_vec_spec = c(letters)
names(arg_vec_spec) = stringr::str_sub(arg_vec_spec,start=-6)
itersave(func_user=foo_func_spec,vec_arg_func=arg_vec_spec,
         mainDir,subDir,subSubDir='/failed/',parallel=FALSE)
dir_rds_failed = '~/projects/datzen/tests/proto/temp/dump_1/failed/'
list.files(dir_rds_failed)
out_failed = iterload(dir_rds=dir_rds_failed)
str(out_failed)

purrr::transpose(out_failed)$ind_fail
purrr::transpose(out_failed)$input_bad
purrr::transpose(out_failed)$result_bad

########################
# retrying itersave() on failed runs from 'input_bad'
########################

# NOTE: re-assemble named vector for arg_retry
arg_bad = unlist(transpose(out_failed)$input_bad)
# convert letters to its order in alphabet
arg_retry = seq_along(letters)
names(arg_retry) = stringr::str_sub(arg_bad,start=-6)

itersave(func_user=foo_func_spec,vec_arg_func=arg_retry,
         mainDir,subDir,subSubDir='/failed/',parallel=FALSE)

dir_retry = '~/projects/datzen/tests/proto/temp///dump_1/'
out_failed = iterload(dir_rds=dir_retry)
str(out_failed)
</pre>


</body></html>
